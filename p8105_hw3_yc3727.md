Homework 3
================

### Problem 3

#### Do some data cleaning. Create separate variables for year, month, and day. Ensure observations for temperature, precipitation, and snowfall are given in reasonable units.

``` r
data(na_noaa)
```

    ## Warning in data(na_noaa): data set 'na_noaa' not found

``` r
ny_noaa_df = ny_noaa %>%
          separate(date, into = c("year", "month", "day"), convert = TRUE) %>%
        mutate(
          year = factor(year), 
          month = as.integer(month), 
          day = as.integer(day),
          prcp = as.integer(prcp),
          tmax = as.integer(tmax), 
          tmin = as.integer(tmin), 
          prcp = prcp/10, 
          tmax = tmax/10, 
          tmin = tmin/10
        ) 
```

#### For snowfall, what are the most commonly observed values? Why?

``` r
snow_df = ny_noaa_df %>%
          count(snow) %>%
          arrange(desc(n))
```

It seems like the most commonly observed values was 0 when we count the
observations of the snow variable and arrange it in a descending order.

#### Make a two-panel plot showing the average max temperature in January and in July in each station across years. Is there any observable / interpretable structure? Any outliers?

``` r
ny_noaa_df %>%
  filter(month %in% c("1", "7")) %>%
  group_by(id, year, month) %>%
  summarize(
    avg_tmax = mean(tmax, na.rm = TRUE)) %>%
  ggplot(aes(x = year, y = avg_tmax, group = id))+
  geom_point(alpha = .5, size = .5) + 
  geom_path() + 
  facet_grid(.~month) +
  theme(axis.text.x = element_text(angle = 270, vjust = .5, hjust =1))
```

    ## `summarise()` regrouping output by 'id', 'year' (override with `.groups` argument)

    ## Warning: Removed 5970 rows containing missing values (geom_point).

    ## Warning: Removed 5931 row(s) containing missing values (geom_path).

![](p8105_hw3_yc3727_files/figure-gfm/unnamed-chunk-3-1.png)<!-- -->
